RewriteEngine On


# Redirect .php URLs to clean ones
RewriteCond %{THE_REQUEST} \s/+([^.]+)\.php[\s?]
RewriteRule ^ %1 [R=301,L]

# Rewrite clean URLs internally to .php files
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z0-9_-]+)/?$ $1.php [L]

# Block direct .php access (after redirect)
RewriteCond %{THE_REQUEST} \.php
RewriteRule ^ - [F]
